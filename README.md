# Система жалоб - Документация

## Обзор

Система жалоб позволяет игрокам сообщать администрации о нарушениях правил сервера и проблемном поведении других игроков. Система предоставляет удобный интерфейс для создания, отслеживания и обработки жалоб в реальном времени.

## Для игроков

### Создание жалобы

Чтобы подать жалобу на игрока, используйте команду:

```
/report player <имя_игрока> <причина>
```
или сокращенно:
```
/rep p <имя_игрока> <причина>
```

**Пример:** `/report player Griefer123 Уничтожает постройки других игроков`

После создания жалобы вы получите уведомление с номером вашей жалобы. Администрация будет уведомлена о новой жалобе автоматически.

### Важные примечания

- Нельзя подавать жалобу на самого себя
- Для повторной жалобы на одного и того же игрока необходимо подождать 10 минут
- Причина жалобы должна быть конкретной и содержать не менее 5 символов
- При создании жалобы сохраняются ваши текущие координаты

## Для администраторов

### Основные команды

| Команда | Сокр. | Описание |
|---------|-------|----------|
| `/report list` | `/rep l` | Список активных жалоб |
| `/report view <ID>` | `/rep v <ID>` | Просмотр деталей жалобы |
| `/report tp <ID> [location/player]` | `/rep tp <ID> [l/p]` | Телепортация к месту создания жалобы или к игроку |
| `/report comment <ID> <текст>` | `/rep com <ID> <текст>` | Добавление комментария к жалобе |
| `/report status <ID> <статус>` | `/rep s <ID> <статус>` | Изменение статуса жалобы |
| `/report close <ID> [причина]` | `/rep c <ID> [причина]` | Закрытие жалобы |

### Статусы жалоб

- **Новая** (`new`) - Жалоба только создана и ожидает рассмотрения
- **В обработке** (`process`) - Жалоба взята администратором на рассмотрение
- **Отклонена** (`rejected`) - Жалоба была рассмотрена и отклонена
- **Закрыта** (`closed`) - Жалоба рассмотрена и закрыта

### Процесс обработки жалобы

1. Просмотрите список активных жалоб: `/report list`
2. Изучите детали конкретной жалобы: `/report view <ID>`
3. Телепортируйтесь к месту создания жалобы: `/report tp <ID> location` или к игроку: `/report tp <ID> player`
4. Добавьте комментарии по ходу расследования: `/report comment <ID> <текст>`
5. Измените статус жалобы, если необходимо: `/report status <ID> process`
6. После завершения расследования закройте жалобу: `/report close <ID> <причина>`

### Автоматизация

- При использовании команды `/report tp <ID>` жалоба автоматически переходит в статус "В обработке"
- При закрытии жалобы автоматически создается комментарий с причиной закрытия
- Игрок, создавший жалобу, получает уведомление при закрытии его жалобы
- Старые закрытые жалобы (старше 30 дней) автоматически удаляются из системы

## Статусы и цикл жизни жалобы

```
Создание → Новая → В обработке → Закрыта/Отклонена
```

## Часто задаваемые вопросы

**В:** Сколько жалоб я могу создать?  
**О:** Количество жалоб не ограничено, но вы не можете создавать повторные жалобы на одного и того же игрока чаще, чем раз в 10 минут.

**В:** Как узнать статус моей жалобы?  
**О:** Администрация уведомит вас об изменении статуса вашей жалобы.

**В:** Я администратор, но не вижу команды управления жалобами. Что делать?  
**О:** Для управления жалобами необходимо иметь права администратора или специальное разрешение `forge.improvedmechanics.reports.manage`.

**В:** Почему я не могу телепортироваться по жалобе?  
**О:** Телепортация недоступна, если игрок, на которого подана жалоба, вышел с сервера или координаты места создания жалобы не были сохранены.
